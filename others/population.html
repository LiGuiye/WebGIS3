<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
		<title>GeoJSONLayer - 4.11</title>

		<style>
			html,
			body,
			#viewDiv {
				padding: 0;
				margin: 0;
				height: 100%;
				width: 100%;
			}
		</style>

		<link rel="stylesheet" href="https://js.arcgis.com/4.11/esri/themes/light/main.css" />
		<script src="https://js.arcgis.com/4.11/"></script>

		<script>
			require([
				"esri/Map",
				"esri/layers/GeoJSONLayer",
				"esri/views/MapView",
				"esri/renderers/ClassBreaksRenderer"
			], function(Map, GeoJSONLayer, MapView, ClassBreaksRenderer) {
				// If GeoJSON files are not on the same domain as your website, a CORS enabled server
				// or a proxy is required.
				const url =
					"https://liguiye.github.io/WebGIS3/chinawgs84_simplify.json";

				// Paste the url into a browser's address bar to download and view the attributes
				// in the GeoJSON file.

				const less35 = {
					type: "simple-fill", // autocasts as new SimpleFillSymbol()
					color: "#fffcd4",
					style: "solid",
					outline: {
						width: 0.2,
						color: [255, 255, 255, 0.5]
					}
				};

				const less50 = {
					type: "simple-fill", // autocasts as new SimpleFillSymbol()
					color: "#b1cdc2",
					style: "solid",
					outline: {
						width: 0.2,
						color: [255, 255, 255, 0.5]
					}
				};

				const more50 = {
					type: "simple-fill", // autocasts as new SimpleFillSymbol()
					color: "#38627a",
					style: "solid",
					outline: {
						width: 0.2,
						color: [255, 255, 255, 0.5]
					}
				};

				const more75 = {
					type: "simple-fill", // autocasts as new SimpleFillSymbol()
					color: "#0d2644",
					style: "solid",
					outline: {
						width: 0.2,
						color: [255, 255, 255, 0.5]
					}
				};

				const renderer = {
					type: "class-breaks", // autocasts as new ClassBreaksRenderer()
					field: "pop2000",
					classBreakInfos: [{
							minValue: 0,
							maxValue: 30000000,
							symbol: less35,
							label: "< 35%"
						},
						{
							minValue: 30000000,
							maxValue: 60000000,
							symbol: less50,
							label: "35 - 50%"
						},
						{
							minValue: 60000000,
							maxValue: 90000000,
							symbol: more50,
							label: "50 - 75%"
						},
						{
							minValue: 90000000,
							maxValue: 120000000,
							symbol: more75,
							label: "> 75%"
						},
						{
							minValue: 120000000,
							maxValue: 1500000000,
							symbol: more75,
							label: "> 75%"
						}
					]
				};
				const geojsonLayer = new GeoJSONLayer({
					url: url,
					renderer: renderer
				});

				const map = new Map({
					basemap: "gray",
					layers: [geojsonLayer]
				});

				const view = new MapView({
					container: "viewDiv",
					center: [-168, 46],
					zoom: 3,
					map: map
				});






			});
		</script>
	</head>

	<body>
		<div id="viewDiv"></div>
	</body>
</html>
